<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Harjoitus 3 - Tehtävä 4</title>
        <style>
            form{
                margin-right: auto;
                margin-left: auto;
                width: 300px;
                border: 1px solid black;
                box-shadow: 5px 5px 5px black;
                border-radius: 3px;
                text-align: center;
                font-family: sans-serif;
                background-color: #BEFFFB;
            }
            input{
                width: 50px;
            }
            
            
        </style>
    </head>
    <body>
        <form id="f">
            <br/>
            T1 <input id="t1" name="teht" onblur="laskeSumma(); laskeArvosana(f.t1.value);"><br/><br/>

            T2 <input id="t2" name="teht" onblur="laskeSumma(); laskeArvosana(f.t2.value);"><br/><br/>
           
            T3 <input id="t3" name="teht" onblur="laskeSumma(); laskeArvosana(f.t3.value);"><br/><br/>
        
            T4 <input id="t4" name="teht" onblur="laskeSumma(); laskeArvosana(f.t4.value);"><br/><br/>
           
        <div id="summa"></div><br/>
        <div id="arvosana"></div>
        </form>
        
        <script>
            /*
            let arvosana = "";
            let summa = "";
            
            function laskeSumma(t){
                
                if(isNaN(t) || t < 0 || t > 6){
                    summa="VIRHE!";
                }
                else {
                    summa += parseInt(inputs[i].value);
                }
                console.log(summa);
                
            }
            */
            
            
            function laskeSumma(){
                var inputs = document.getElementsByName("teht");
                var summa = 0;
                for(var i=0; i<inputs.length; i++){
                if(parseInt(inputs[i].value))
                    summa += parseInt(inputs[i].value);
                    
                    else{
                        summa="VIRHE!";
                    }
                }
               
            document.getElementById("summa").innerHTML = "Pistemäärä: " + summa;
            }
            
            function laskeArvosana(a){
                if(isNaN(a) || a < 0 || a > 6){
                    arvosana="VIRHE!";
                }
                else if (summa > 0 || summa < 12){
                    arvosana = 0;
                }
                else if (summa > 13 || summa < 15){
                    arvosana = 1;
                }
                else if (summa > 16 || summa < 17){
                    arvosana = 2;
                }
                else if (summa > 18 || summa < 19){
                    arvosana = 3;
                }
                else if (summa > 20 || summa < 21){
                    arvosana = 4;
                }
                else if (summa > 22 || summa < 24){
                    arvosana = 5;
                }

                console.log("arvosana");
                document.getElementById("arvosana").innerHTML = "Arvosana: " +arvosana;
            }
            
            
        </script>
    </body>
</html>